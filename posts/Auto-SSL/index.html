<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>使用certd自动化推送EdgeOne和1panel,证书永不过期 | 某科学的贝壳</title><meta name="author" content="shell"><meta name="copyright" content="shell"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言博主以前是全部使用 cloudflare CDN 也都是 cloud flare 帮我维护和管理证书，最近CF抽风严重，又随着国内 阿里 和 腾讯 开放自己的ESA和EO的免费版本，虽然也看到了他们能够自动签发证书，都是单个域名签发而不是泛域，如果你没事点开，博主一些服务的域名用的证书都是清一色 Google Trust Services （GTS）证书，博主有一种莫名对GTS的追求，肯定是他">
<meta property="og:type" content="article">
<meta property="og:title" content="使用certd自动化推送EdgeOne和1panel,证书永不过期">
<meta property="og:url" content="https://blog.ning.moe/posts/Auto-SSL/">
<meta property="og:site_name" content="某科学的贝壳">
<meta property="og:description" content="前言博主以前是全部使用 cloudflare CDN 也都是 cloud flare 帮我维护和管理证书，最近CF抽风严重，又随着国内 阿里 和 腾讯 开放自己的ESA和EO的免费版本，虽然也看到了他们能够自动签发证书，都是单个域名签发而不是泛域，如果你没事点开，博主一些服务的域名用的证书都是清一色 Google Trust Services （GTS）证书，博主有一种莫名对GTS的追求，肯定是他">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891ad56bea05.webp">
<meta property="article:published_time" content="2025-08-05T06:54:49.000Z">
<meta property="article:modified_time" content="2025-08-29T05:36:28.724Z">
<meta property="article:author" content="shell">
<meta property="article:tag" content="教程">
<meta property="article:tag" content="2025">
<meta property="article:tag" content="certd">
<meta property="article:tag" content="1panel">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="SSL">
<meta property="article:tag" content="GTS">
<meta property="article:tag" content="泛域名">
<meta property="article:tag" content="自动化">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891ad56bea05.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "使用certd自动化推送EdgeOne和1panel,证书永不过期",
  "url": "https://blog.ning.moe/posts/Auto-SSL/",
  "image": "https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891ad56bea05.webp",
  "datePublished": "2025-08-05T06:54:49.000Z",
  "dateModified": "2025-08-29T05:36:28.724Z",
  "author": [
    {
      "@type": "Person",
      "name": "shell",
      "url": "https://blog.ning.moe"
    }
  ]
}</script><link rel="shortcut icon" href="https://img.ning.moe/i/1/23/01/30/63d755db9649a.ico"><link rel="canonical" href="https://blog.ning.moe/posts/Auto-SSL/"><link rel="preconnect"><link rel="manifest" href="/null"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="/pluginsSrc/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 8 || hour >= 22
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"已切换为繁体中文","cht_to_chs":"已切换为简体中文","day_to_night":"已切换为深色模式","night_to_day":"已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-center"},
  infinitegrid: {
    js: '/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '使用certd自动化推送EdgeOne和1panel,证书永不过期',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="blog.ning.moe"><link rel="dns-prefetch" href="www.ning.moe"><link rel="dns-prefetch" href="img.misaka.pics"><link rel="dns-prefetch" href="umami.asshell.top"><meta name="apple-mobile-web-app-capable" content="yes"><script async="" defer="" src="https://blog.ning.moe/static/js/script.js" data-website-id="9ff73ab5-a863-462d-8695-5db50d42cf66" data-host-url="https://analytic.ning.moe/" data-domains="blog.ning.moe"></script><meta property="og:type" content="blog"><meta property="og:image" content="https://img.ning.moe/i/1/23/01/30/63d7559a451ec.webp"><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="某科学的贝壳" type="application/atom+xml">
</head><body><div id="web_bg" style="background-color: #5BCEFA;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://img.ning.moe/i/1/23/01/30/63d7559a451ec.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">125</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-fw fas fa-filter"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-fw fa fa-gamepad"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fab fa-youtube"></i><span> 追番</span></a></li><li><a class="site-page child" href="/steamgames/"><i class="fa-fw fab fa-steam"></i><span> Steam库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/talking"><i class="fa-fw fas fa-comment-dots"></i><span> 叽喳</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/atom.xml"><i class="fa-fw fa fa-rss"></i><span> Rss订阅</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://travel.moe/go.html"><i class="fa-fw iconfont icon-xingqiu"></i><span> 异次元之旅</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html"><i class="fa-fw fas fa-train"></i><span> 开往</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-heart"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/privacy-policy/"><i class="fa-fw fa-solid fa-user-secret"></i><span> 隐私</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fa-solid fa-user"></i><span> 我?</span></a></li><li><a class="site-page child" href="/blog/"><i class="fa-fw fa-solid fa-blog"></i><span> 本站?</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891ad56bea05.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">某科学的贝壳</span></a><a class="nav-page-title" href="/"><span class="site-name">使用certd自动化推送EdgeOne和1panel,证书永不过期</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-fw fas fa-filter"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-fw fa fa-gamepad"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fab fa-youtube"></i><span> 追番</span></a></li><li><a class="site-page child" href="/steamgames/"><i class="fa-fw fab fa-steam"></i><span> Steam库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/talking"><i class="fa-fw fas fa-comment-dots"></i><span> 叽喳</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/atom.xml"><i class="fa-fw fa fa-rss"></i><span> Rss订阅</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://travel.moe/go.html"><i class="fa-fw iconfont icon-xingqiu"></i><span> 异次元之旅</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html"><i class="fa-fw fas fa-train"></i><span> 开往</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-heart"></i><span> 关于</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/privacy-policy/"><i class="fa-fw fa-solid fa-user-secret"></i><span> 隐私</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fa-solid fa-user"></i><span> 我?</span></a></li><li><a class="site-page child" href="/blog/"><i class="fa-fw fa-solid fa-blog"></i><span> 本站?</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">使用certd自动化推送EdgeOne和1panel,证书永不过期</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-05T06:54:49.000Z" title="发表于 2025-08-05 14:54:49">2025-08-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-29T05:36:28.724Z" title="更新于 2025-08-29 13:36:28">2025-08-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">890</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>3分钟</span></span><span class="post-meta-separator">|</span><span id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="ArtalkPV"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:500,&quot;messagePrev&quot;:null,&quot;messageNext&quot;:&quot;自上次更新以来的天，文章的内容可能已过时。&quot;,&quot;postUpdate&quot;:&quot;2025-08-29 13:36:28&quot;}" hidden=""></div><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>博主以前是全部使用 cloudflare CDN 也都是 cloud flare 帮我维护和管理证书，最近CF抽风严重，又随着国内 阿里 和 腾讯 开放自己的ESA和EO的免费版本，虽然也看到了他们能够自动签发证书，都是单个域名签发而不是泛域，如果你没事点开，博主一些服务的域名用的证书都是清一色 <strong>Google Trust Services</strong> （GTS）证书，博主有一种莫名对GTS的追求，肯定是他兼容性太好了。</p>
<h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><ol>
<li>拥有一台服务器，博主使用的 <a target="_blank" href="https://s.ning.moe/s/TencentCloud" rel="external nofollow noreferrer noopener">腾讯云轻量</a> 强烈推荐一个海外的如果你不是申请GTS的话，也没啥问题。</li>
<li>一个域名<del>（这个必须要有的吧）</del></li>
<li>腾讯云的 API ID 和密钥 (博主用的是国内站腾讯账号跳转link放在文章后)</li>
<li>Docker 环境（如果你有可要直接跳过安装步骤1了）</li>
</ol>
<h1 id="开始搭建"><a href="#开始搭建" class="headerlink" title="开始搭建"></a>开始搭建</h1><h2 id="安装1pane"><a href="#安装1pane" class="headerlink" title="安装1pane"></a>安装1pane</h2><p>省心省力的话安装一个 1panel 面板就非常方便,下面是官网安装的命令。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -c <span class="string">"<span class="subst">$(curl -sSL https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh)</span>"</span></span><br></pre></td></tr></tbody></table></figure>



<blockquote>
<p>这里推荐使用 <a target="_blank" href="https://s.ning.moe/s/TencentCloud" rel="external nofollow noreferrer noopener">腾讯云轻量服务器</a> , 推荐选择香港地区免备案，</p>
<p>还可以创建的时候直接选择1panel 、BT 面板，还有更多常用的应用一键开箱即用</p>
</blockquote>
<table>
<thead>
<tr>
<th><img src="https://img.ning.moe/ShellBlogImg/1/2025/07/25/68832a9f134f1.webp" alt="腾讯云轻量购买页面.webp"></th>
<th><img src="https://img.ning.moe/ShellBlogImg/1/2025/07/25/68832ad797a9b.webp" alt="腾讯云重装页面.webp"></th>
</tr>
</thead>
</table>
<p>tips: 腾讯云咨询也接入了 DeepSeek 的大模型，已经把常见问题归纳整理，常见问题可以直接询问即可，非常方便哒~</p>
<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/07/25/688334041890a.webp" alt="腾讯云-咨询问题.webp">****</p>
<h2 id="安装-certd"><a href="#安装-certd" class="headerlink" title="安装 certd"></a>安装 certd</h2><p>复制下方内容</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3.3'</span> <span class="comment"># 兼容旧版docker-compose</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">certd:</span></span><br><span class="line">    <span class="comment"># 镜像                                                  #  ↓↓↓↓↓ ---- 镜像版本号，建议改成固定版本号,例如：certd:1.29.0</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">registry.cn-shenzhen.aliyuncs.com/handsfree/certd:latest</span></span><br><span class="line">    <span class="comment"># image: ghcr.io/certd/certd:latest                    #   --------- 如果 报镜像not found，可以尝试其他镜像源</span></span><br><span class="line">    <span class="comment"># image: greper/certd:latest</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">certd</span> <span class="comment"># 容器名</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span> <span class="comment"># 自动重启</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="comment">#   ↓↓↓↓↓ ----------- 数据库以及证书存储路径,默认存在宿主机的/data/certd/目录下，【您需要定时备份此目录，以保障数据容灾】</span></span><br><span class="line">      <span class="comment">#                  只要修改冒号前面的，冒号后面的/app/data不要动</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data/certd:/app/data</span></span><br><span class="line">    <span class="attr">ports:</span> <span class="comment"># 端口映射</span></span><br><span class="line">      <span class="comment">#  ↓↓↓↓ ---- 如果端口有冲突，可以修改第一个7001为其他不冲突的端口号，第二个7001不要动</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"7001:7001"</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">com.centurylinklabs.watchtower.enable:</span> <span class="string">"true"</span></span><br><span class="line"><span class="comment">#    ↓↓↓↓ -------------------------------------------------------------- 启用ipv6网络，还需要把下面networks的注释放开</span></span><br><span class="line"><span class="comment">#    networks:</span></span><br><span class="line"><span class="comment">#      - ip6net</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line"><span class="comment">#  #↓↓↓↓ ----------------------------- 如果忘记管理员密码，可以设置为true，重启之后，管理员密码将改成123456，然后请及时修改回false</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">certd_system_resetAdminPasswd=false</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/01/688c7e569cad7.webp" alt="1panel-containers-compose-certd.webp"></p>
<p>部署好之后访问，过掉基本的注册信息即可。</p>
<h2 id="配置certtd"><a href="#配置certtd" class="headerlink" title="配置certtd"></a>配置certtd</h2><p>来到 <code>证书自动化流水线</code> - <code>创建证书流</code> 输入你的域名即可。 例如博主的是 <code>ning.moe</code> 和下属的 <code>*.ning.moe</code> 那么 就这样写 <code>*.ning.moe;ning.moe</code>，如果你要申请Google 还需要配置EAB 您可以访问这个博主和写的博文 ：<a target="_blank" href="https://www.alcy.cc/archives/huo-qu-googlezheng-shu-eab" rel="external nofollow noreferrer noopener">获取Google证书EAB</a> </p>
<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/01/688ca9f423dd9.webp" alt="Certd-config.webp"></p>
<p>保存完毕我们进入编辑工作流</p>
<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/01/688cb62ea5ab0.webp" alt="Certd-config-2.webp"></p>
<h3 id="配置1Panel"><a href="#配置1Panel" class="headerlink" title="配置1Panel"></a>配置1Panel</h3><p>1Panel的比较简单一点</p>
<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/29/68b138cca75fa.webp" alt="Certd-config-6.webp"></p>
<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/29/68b138d1049a4.webp" alt="Certd-config-8.webp"></p>
<h3 id="配置-腾讯云-EO"><a href="#配置-腾讯云-EO" class="headerlink" title="配置 腾讯云 EO"></a>配置 腾讯云 EO</h3><p>EO 配置稍微有点麻烦你需要选择你的 站的ID 以及你所有加速的域名，例如博主的加速以下  <code>test.ning.moe</code>  <code>shell.ning.moe</code> 那么都需要挨个输入进去</p>
<blockquote>
<p>国内站 API 凭证： <a target="_blank" href="https://console.cloud.tencent.com/cam/capi" rel="external nofollow noreferrer noopener">https://console.cloud.tencent.com/cam/capi</a></p>
</blockquote>
<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891a678d2b5b.webp" alt="Certd-config-4.webp"></p>
<p><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891a67f7fb32.webp" alt="Certd-config-5.webp"></p>
<h2 id="保存发布"><a href="#保存发布" class="headerlink" title="保存发布"></a>保存发布</h2><p>最后不要忘记保存然后手动触发工作流看看有什么问题吗。</p>
<h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><p>获取Google证书EAB:<a target="_blank" href="https://www.alcy.cc/archives/huo-qu-googlezheng-shu-eab" rel="external nofollow noreferrer noopener">https://www.alcy.cc/archives/huo-qu-googlezheng-shu-eab</a></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://blog.ning.moe">shell</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://blog.ning.moe/posts/Auto-SSL/">https://blog.ning.moe/posts/Auto-SSL/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.ning.moe" target="_blank">某科学的贝壳</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%99%E7%A8%8B/">教程</a><a class="post-meta__tags" href="/tags/2025/">2025</a><a class="post-meta__tags" href="/tags/certd/">certd</a><a class="post-meta__tags" href="/tags/1panel/">1panel</a><a class="post-meta__tags" href="/tags/Docker/">Docker</a><a class="post-meta__tags" href="/tags/SSL/">SSL</a><a class="post-meta__tags" href="/tags/GTS/">GTS</a><a class="post-meta__tags" href="/tags/%E6%B3%9B%E5%9F%9F%E5%90%8D/">泛域名</a><a class="post-meta__tags" href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96/">自动化</a></div><div class="post-share"><div class="social-share" data-image="https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891ad56bea05.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/pluginsSrc/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="/pluginsSrc/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer=""></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://img.ning.moe/ShellBlogImg/1/2024/08/04/66aed9d806a94.webp" target="_blank"><img class="post-qr-code-img" src="https://img.ning.moe/ShellBlogImg/1/2024/08/04/66aed9d806a94.webp" alt="alipay"></a><div class="post-qr-code-desc">alipay</div></li><li class="reward-item"><a href="https://img.ning.moe/ShellBlogImg/1/2024/08/04/66aed9813de47.webp" target="_blank"><img class="post-qr-code-img" src="https://img.ning.moe/ShellBlogImg/1/2024/08/04/66aed9813de47.webp" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/netbird-private-network/" title="使用 Netbird 轻松组建内网"><img class="cover" src="https://img.ning.moe/ShellBlogImg/1/2025/10/04/68dff97434af6.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">使用 Netbird 轻松组建内网</div></div><div class="info-2"><div class="info-item-1">前言部分服务器一直想组内网，原本想使用 Cloudflare Zero Trust 进行组网。无奈有时需要境外与境内互联，担心被封。NetBird 也是基于 WireGuard，但境外/境内的连通性目前对我来说稳定（也许是流量小…）。 关于 NetBird NetBird 是一个由一系列组件组成的开源平台，负责处理点对点连接、隧道、身份验证和网络管理（IP、密钥、ACL 等）。它使用 WireGuard®、Pion ICE（WebRTC）、Coturn 和 NetBird 自身的 客户端 等开源技术，简化安全的专用网络部署和管理。NetBird 依赖四个组件：客户端（或代理）、管理、信号 和 中继 服务。只有经过身份验证的用户（或机器）才能访问被授权的资源。对等体 Peer 指连接到网络的任何设备：云/本地 Linux 服务器、笔记本、手机或树莓派。   安装并授权后，机器将形成网状网络，通过加密的点对点 WireGuard 隧道直接相连：  前期准备 至少一台服务器（≥ 1C/2G），如 腾讯云轻量。 一个可用的 IDP（Identity Provider）。自建可选 Zita...</div></div></div></a><a class="pagination-related" href="/posts/Aliyun-Cloud-ESA/" title="阿里云 ESA 使用体验"><img class="cover" src="https://img.ning.moe/ShellBlogImg/1/2025/07/31/688b019834346.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">阿里云 ESA 使用体验</div></div><div class="info-2"><div class="info-item-1">前言最近一段时间 ESA 、EdgeOne，阿里和腾讯相互推出类似产品，看到网上有很多对 EdgeOne (EO) 的体验博文，我就做一下 ESA 吧。ESA也是支持CNAME接入的，非常方便如果你是大量文件的下载那更推荐你使用ESA，因为EO会限速大概 500kb/s，所以你要有什么云盘常见资源的上下载，ESA更是一个不错的选择，其次ESA节点比EO要多这是优点也同样是一个缺点吧（后续会讲到）。 先放测速图片，国外节点（非备案域名）速度也还不错，下载文件我在能稳定10mbps 左右的速度，如果你有国内备案域名，也有大陆节点速度不限速在200mbps 左右吧，速度只能说飕飕的了。    国内域名 国外域名    https://test.shell.ac.cn/ https://ali-esa-blog.ning.moe/   https://test.shell.ac.cn/testfile.bin https://test.ning.moe/testfile.bin    非备案域名国外节点           备案域名国内节点          前排直达链接了解详情 👇 ...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/Amateur-Radio-QSL-Tracker-power-by-n8n/" title="使用 n8n 工作流，打造自己的 QSL 卡片跟踪器"><img class="cover" src="https://img.ning.moe/ShellBlogImg/1/2025/07/25/68835275b1251.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-25</div><div class="info-item-2">使用 n8n 工作流，打造自己的 QSL 卡片跟踪器</div></div><div class="info-2"><div class="info-item-1">前言由于笔者，入了业余无线电的圈子，和通联过的人交换属于自己的 QSL 卡片，也是火腿之间的乐趣以及证明你和他互相通联过的凭证，扩大和收集他人的卡片，还是有很多成就感的。 但发卡和收卡需要一个能统计的地方，不然太乱了，以及这个是否给这个有台寄卡以及是否收到这位有台的卡片，属实令人头大，正巧手里有一台闲置的 轻量 并且部署了 n8n 的自动化工作流，我使用 notion 在线笔记软件用来存储信息，实现了 发送通知 和收到他人卡片的通知，通过电子邮件方式的通知。 使用体验         前置条件 需要一个 notion 账号  添加我的 notion 模板 模板链接  拥有一台服务器，博主使用的 腾讯云轻量  获取邮箱的SMTP密钥（163 126 qq 都是可以获取的）  准备好 n8n 工作流模板 模板链接   开始搭建安装1pane省心省力的话安装一个 1panel 面板就非常方便,下面是官网安装的命令。 1bash -c "$(curl -sSL https://resource.fit2cloud.com/1panel/package/v2/quick_start.sh)...</div></div></div></a><a class="pagination-related" href="/posts/docker-postgresql-Segmentation-fault/" title="Docker使用pg_restore 出现Segmentation fault (core dumped)"><img class="cover" src="https://img.ning.moe/ShellBlogImg/1/2024/12/21/6766a76c45daa.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-21</div><div class="info-item-2">Docker使用pg_restore 出现Segmentation fault (core dumped)</div></div><div class="info-2"><div class="info-item-1">最近，在将 Authentik 从版本 2024.6.3 升级到 2024.12.0 的过程中， Authentik新版本需要升级 PostgreSQL 数据库版本，从 12 升级到了 16。整个升级过程总体较为顺利，但在尝试通过 pg_restore 恢复数据时，却意外遇到了（segmentation fault）。 问题背景升级步骤大致如下：  ✅ 使用 Docker 容器管理 PostgreSQL 和 Authentik。  📦 在升级前，通过以下命令将 PostgreSQL 数据库的内容备份到宿主机： 1docker exec -ti &lt;容器id&gt; pg_dump -Fc -U &lt;数据库用户名&gt; &lt;数据库名&gt; &gt; db.dump  🛠️ 安装新的 Authentik 和 PostgreSQL 容器。  🔄 尝试使用以下命令恢复数据： 12docker cp db.dump &lt;容器id&gt;:/db.dumpdocker exec -ti &lt;容器id&gt; pg_restore -U &lt;数据库用户名&gt;...</div></div></div></a><a class="pagination-related" href="/posts/learn-traefik/" title="在 Docker 环境中使用 Traefik进行反向代理"><img class="cover" src="https://img.ning.moe/ShellBlogImg/1/2024/10/05/6700b8baa35f6.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-05</div><div class="info-item-2">在 Docker 环境中使用 Traefik进行反向代理</div></div><div class="info-2"><div class="info-item-1">前言对于家里面要部署很多 Docker 服务，用 Nginx 反向代理属实麻烦，所以就有了本篇文章 Traefik   Traefik 的logo 是一个go吉祥物进行指挥交通（流量）。 所以 Traefik的好处是自动发现服务，自动配置反向代理，以及自动续签SSL，以及不在需要对外暴露额外的端口了，宿主机自始至终之暴露 80 443 端口。但也有诸多问题例如它并不能像Nginx 一样可以灵活的配置反代一些程序，例如配置不在Docker 部署的程序，会有点麻烦，如果想我一样只是作为本地部署项目Traefik 仍然是一个不错的选择。 正文在快速启动前，有必要说明一下，本教程是使用CloudFlare 作为域名ns进行申请泛域名证书，如果你想使用其他提供商，可以在 Traefik 的文档 更改 Provider Code和 Environment Variables 这两个值，当然我会在本篇配置文件有注释提醒。 另外如果没有额外配置反代的需求（指不跑在docker的服务），需要建立config.yml 文件，当然还需要在traefik.yml 关闭注释。 快速启动 Traefik请按...</div></div></div></a><a class="pagination-related" href="/posts/netbird-private-network/" title="使用 Netbird 轻松组建内网"><img class="cover" src="https://img.ning.moe/ShellBlogImg/1/2025/10/04/68dff97434af6.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-10-03</div><div class="info-item-2">使用 Netbird 轻松组建内网</div></div><div class="info-2"><div class="info-item-1">前言部分服务器一直想组内网，原本想使用 Cloudflare Zero Trust 进行组网。无奈有时需要境外与境内互联，担心被封。NetBird 也是基于 WireGuard，但境外/境内的连通性目前对我来说稳定（也许是流量小…）。 关于 NetBird NetBird 是一个由一系列组件组成的开源平台，负责处理点对点连接、隧道、身份验证和网络管理（IP、密钥、ACL 等）。它使用 WireGuard®、Pion ICE（WebRTC）、Coturn 和 NetBird 自身的 客户端 等开源技术，简化安全的专用网络部署和管理。NetBird 依赖四个组件：客户端（或代理）、管理、信号 和 中继 服务。只有经过身份验证的用户（或机器）才能访问被授权的资源。对等体 Peer 指连接到网络的任何设备：云/本地 Linux 服务器、笔记本、手机或树莓派。   安装并授权后，机器将形成网状网络，通过加密的点对点 WireGuard 隧道直接相连：  前期准备 至少一台服务器（≥ 1C/2G），如 腾讯云轻量。 一个可用的 IDP（Identity Provider）。自建可选 Zita...</div></div></div></a><a class="pagination-related" href="/posts/CacheflySSLUpDate/" title="Cachefly自动证书上传"><img class="cover" src="https://img.ning.moe/i/1/23/01/30/63d759cdaccfe.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-31</div><div class="info-item-2">Cachefly自动证书上传</div></div><div class="info-2"><div class="info-item-1">前言自从 Cachefly 推出了免费套餐， 作为一个白嫖党，第一时间就去体验了一下，注册需要外币卡需要注意一下，所以注册门槛稍微相对较高吧。试了一下速度，很不错，回国速度非常好，北方基本上走的是ntt 和俄罗斯的线路，南方走的是 hk 的CN2 线路，至少分发的图片和静态资源不成问题。  但有个很烦人的问题，它不支持 免费的证书自动签发，需要我自己上传证书，好在他的ssl 证书是自动检测的，也就是说你上传了一个证书是在8月份到期了在7月份又上传了这个域名的证书是11月到期了，会自动在证书过期之前调整成11月的。而且最近学了学go，就用这三脚猫的功夫配合chatGPT 写了一个简单的小玩意。 自动证书上传程序我已经把这个项目开源并且放在了 我的GitHub仓库上 。 其实在仓库的README的文件上已经有写了使用方式，我就直接把README拿过来了。 使用方式 首先，您需要在 https://github.com/biliblihuorong/CacheflySSLUpDate/releases 页面下载适用于您设备的可执行文件。  然后，在执行文件所在目录下创建一个名为 con...</div></div></div></a></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://img.ning.moe/i/1/23/01/30/63d7559a451ec.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="author-info-name">shell</div><div class="author-info-description">没错这是一个在学园都市的贝壳建立的博客!</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">60</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">125</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/biliblihuorong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://t.me/shell_science" target="_blank" title="Telegram"><i class="fa-brands fa-telegram"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎访问本站,今天又是咕咕咕的一天!<br>
<a href="https://blog.ning.moe/privacy-policy/" target="_blank">本站的隐私政策</a>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%86%E5%A4%87"><span class="toc-number">2.</span> <span class="toc-text">准备</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA"><span class="toc-number">3.</span> <span class="toc-text">开始搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%851pane"><span class="toc-number">3.1.</span> <span class="toc-text">安装1pane</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-certd"><span class="toc-number">3.2.</span> <span class="toc-text">安装 certd</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEcerttd"><span class="toc-number">3.3.</span> <span class="toc-text">配置certtd</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE1Panel"><span class="toc-number">3.3.1.</span> <span class="toc-text">配置1Panel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-%E8%85%BE%E8%AE%AF%E4%BA%91-EO"><span class="toc-number">3.3.2.</span> <span class="toc-text">配置 腾讯云 EO</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E5%8F%91%E5%B8%83"><span class="toc-number">3.4.</span> <span class="toc-text">保存发布</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%95%E7%94%A8"><span class="toc-number">4.</span> <span class="toc-text">引用</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/Zitadel/" title="Zitadel"><img src="https://img.ning.moe/i/1/23/01/30/63d759cdaccfe.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Zitadel"></a><div class="content"><a class="title" href="/posts/Zitadel/" title="Zitadel">Zitadel</a><time datetime="2025-10-09T06:03:52.000Z" title="发表于 2025-10-09 14:03:52">2025-10-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/netbird-private-network/" title="使用 Netbird 轻松组建内网"><img src="https://img.ning.moe/ShellBlogImg/1/2025/10/04/68dff97434af6.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Netbird 轻松组建内网"></a><div class="content"><a class="title" href="/posts/netbird-private-network/" title="使用 Netbird 轻松组建内网">使用 Netbird 轻松组建内网</a><time datetime="2025-10-03T09:27:10.000Z" title="发表于 2025-10-03 17:27:10">2025-10-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Auto-SSL/" title="使用certd自动化推送EdgeOne和1panel,证书永不过期"><img src="https://img.ning.moe/ShellBlogImg/1/2025/08/05/6891ad56bea05.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用certd自动化推送EdgeOne和1panel,证书永不过期"></a><div class="content"><a class="title" href="/posts/Auto-SSL/" title="使用certd自动化推送EdgeOne和1panel,证书永不过期">使用certd自动化推送EdgeOne和1panel,证书永不过期</a><time datetime="2025-08-05T06:54:49.000Z" title="发表于 2025-08-05 14:54:49">2025-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Aliyun-Cloud-ESA/" title="阿里云 ESA 使用体验"><img src="https://img.ning.moe/ShellBlogImg/1/2025/07/31/688b019834346.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="阿里云 ESA 使用体验"></a><div class="content"><a class="title" href="/posts/Aliyun-Cloud-ESA/" title="阿里云 ESA 使用体验">阿里云 ESA 使用体验</a><time datetime="2025-07-31T03:31:46.000Z" title="发表于 2025-07-31 11:31:46">2025-07-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/Amateur-Radio-QSL-Tracker-power-by-n8n/" title="使用 n8n 工作流，打造自己的 QSL 卡片跟踪器"><img src="https://img.ning.moe/ShellBlogImg/1/2025/07/25/68835275b1251.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 n8n 工作流，打造自己的 QSL 卡片跟踪器"></a><div class="content"><a class="title" href="/posts/Amateur-Radio-QSL-Tracker-power-by-n8n/" title="使用 n8n 工作流，打造自己的 QSL 卡片跟踪器">使用 n8n 工作流，打造自己的 QSL 卡片跟踪器</a><time datetime="2025-07-25T07:58:23.000Z" title="发表于 2025-07-25 15:58:23">2025-07-25</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">©&nbsp;2019 - 2025 By shell</span></div><div class="footer_custom_text"><a href="https://icp.gov.moe/?keyword=2020021021" target="_blank"><img src="https://img.ning.moe/i/1/23/01/30/63d75baf92f17.webp" width="20px" height="20px" alt="萌国ICP备案"> 萌ICP备 2020021021号</a> | 
<a style="text-decoration:none;" href="https://travel.moe/go.html" title="异次元之旅-跃迁-我们一起去萌站成员的星球旅行吧！" target="_blank"><img src="https://img.ning.moe/ShellBlogImg/1/2024/10/25/671b55666e1e0.webp" style="width:24px;height:24px" alt="travel.moe">异次元之旅</a> |
<a href="https://www.travellings.cn/go.html" target="_blank" rel="noopener" title="开往-友链接力"> <img src="https://img.ning.moe/ShellBlogImg/1/2024/10/25/671b5566b72fb.gif" alt="开往-友链接力" width="120"></a><br>
<a href="https://www.cloudflare.com/" target="_blank" rel="external nofollow"><img src="https://img.ning.moe/i/1/23/01/30/63d75c34b7358.webp" width="80px" height="30px" alt="CloudFlare"></a><br>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script src="/pluginsSrc/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  let artalkItem = null
  const option = null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'

  const destroyArtalk = () => {
    if (artalkItem) {
      artalkItem.destroy()
      artalkItem = null
    }
  }

  const artalkChangeMode = theme => artalkItem && artalkItem.setDarkMode(theme === 'dark')

  const initArtalk = (el = document, pageKey = location.pathname) => {
    artalkItem = Artalk.init({
      el: el.querySelector('#artalk-wrap'),
      server: 'https://artalk.ning.moe/',
      site: 'shell-blog',
      darkMode: document.documentElement.getAttribute('data-theme') === 'dark',
      ...option,
      pageKey: isShuoshuo ? pageKey : (option && option.pageKey) || pageKey
    })

    if (GLOBAL_CONFIG.lightbox === 'null') return
    artalkItem.on('list-loaded', () => {
      artalkItem.ctx.get('list').getCommentNodes().forEach(comment => {
        const $content = comment.getRender().$content
        btf.loadLightbox($content.querySelectorAll('img:not([atk-emoticon])'))
      })
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyArtalk = () => {
        destroyArtalk()
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    btf.addGlobalFn('pjaxSendOnce', destroyArtalk, 'destroyArtalk')
    btf.addGlobalFn('themeChange', artalkChangeMode, 'artalk')
  }

  const loadArtalk = async (el, pageKey) => {
    if (typeof Artalk === 'object') initArtalk(el, pageKey)
    else {
      await btf.getCSS('/pluginsSrc/artalk/dist/Artalk.css')
      await btf.getScript('/pluginsSrc/artalk/dist/Artalk.js')
      initArtalk(el, pageKey)
    }
  }

  if (isShuoshuo) {
    'Artalk' === 'Artalk'
      ? window.shuoshuoComment = { loadComment: loadArtalk }
      : window.loadOtherComment = loadArtalk
    return
  }

  if ('Artalk' === 'Artalk' || !false) {
    if (false) btf.loadComment(document.getElementById('artalk-wrap'), loadArtalk)
    else setTimeout(loadArtalk, 100)
  } else {
    window.loadOtherComment = loadArtalk
  }
})()</script></div><script>(() => {
  const option = null
  const config = {"site_uv":true,"site_pv":true,"page_pv":true,"token":"ikXJvRrQ6tyQVjxaKGMg6TuxjfHCVgwFsUIgrT8Pv76tMtIwPXfz6jtKwTu7hZANRjrEBD0jywlNgTwoPdhmupfxkBQeWl63HadU9rdPHfbRd4EmB2sOpYQmhdSsR2R2qxKFJmevJD+1tO7rsLfzqng2UHPDC5Io9tYfoX0YHB2DfCT1QdXqFidSnKhEqs5A3b9XFZEWG+5uBexyYDlRf0nTTXj5Vl8PPQ5aSTBN9xVLc38bNSZkWBUA5PjHhl+CQZaD4sBLFhSlr4irmKEX/JF330G9RuaWK+zdUl0cRs/53ADso9ojAdWCtIgmtw7lBAaSs0bTwdpbSwrOXM6RswSqwfBZUpGSUQ=="}

  const runTrack = () => {
    if (typeof umami !== 'undefined' && typeof umami.track === 'function') {
      umami.track(props => ({ ...props, url: window.location.pathname, title: GLOBAL_CONFIG_SITE.title }))
    } else {
      console.warn('Umami Analytics: umami.track is not available')
    }
  }

  const loadUmamiJS = () => {
    btf.getScript('https://analytic.ning.moe/script.js', {
      'data-website-id': '9ff73ab5-a863-462d-8695-5db50d42cf66',
      'data-auto-track': 'false',
      ...option
    }).then(() => {
      runTrack()
    }).catch(error => {
      console.error('Umami Analytics: Error loading script', error)
    })
  }

  const getData = async (isPost) => {
    try {
      const now = Date.now()
      const keyUrl = isPost ? `&url=${window.location.pathname}` : ''
      const headerList = { 'Accept': 'application/json' }

      if (true) {
        headerList['Authorization'] = `Bearer ${config.token}`
      } else {
        headerList['x-umami-api-key'] = config.token
      }

      const res = await fetch(`https://analytic.ning.moe/api/websites/9ff73ab5-a863-462d-8695-5db50d42cf66/stats?startAt=0000000000&endAt=${now}${keyUrl}`, {
        method: "GET",
        headers: headerList
      })

      if (!res.ok) {
        throw new Error(`HTTP error! status: ${res.status}`)
      }

      return await res.json()
    } catch (error) {
      console.error('Umami Analytics: Failed to fetch data', error)
      throw error
    }
  }

  const insertData = async () => {
    try {
      if (GLOBAL_CONFIG_SITE.pageType === 'post' && config.page_pv) {
        const pagePV = document.getElementById('umamiPV')
        if (pagePV) {
          const data = await getData(true)
          if (data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            pagePV.textContent = data.pageviews.value
          } else {
            console.warn('Umami Analytics: Invalid page view data received')
          }
        }
      }

      if (config.site_uv || config.site_pv) {
        const data = await getData(false)

        if (config.site_uv) {
          const siteUV = document.getElementById('umami-site-uv')
          if (siteUV && data && data.visitors && typeof data.visitors.value !== 'undefined') {
            siteUV.textContent = data.visitors.value
          } else if (siteUV) {
            console.warn('Umami Analytics: Invalid site UV data received')
          }
        }

        if (config.site_pv) {
          const sitePV = document.getElementById('umami-site-pv')
          if (sitePV && data && data.pageviews && typeof data.pageviews.value !== 'undefined') {
            sitePV.textContent = data.pageviews.value
          } else if (sitePV) {
            console.warn('Umami Analytics: Invalid site PV data received')
          }
        }
      }
    } catch (error) {
      console.error('Umami Analytics: Failed to insert data', error)
    }
  }

  btf.addGlobalFn('pjaxComplete', runTrack, 'umami_analytics_run_track')
  btf.addGlobalFn('pjaxComplete', insertData, 'umami_analytics_insert')


  loadUmamiJS()

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', insertData)
  } else {
    setTimeout(insertData, 100)
  }
})()</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"></div><hr><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div>
      <div id="sakana" style="position:fixed;right:0;bottom:0px;"></div>
      <script async="" onload="initSakanaWidget({&quot;character&quot;:&quot;takina&quot;,&quot;enable&quot;:true,&quot;enable_mobile&quot;:false,&quot;size&quot;:200,&quot;autoFit&quot;:false,&quot;bottom&quot;:&quot;0px&quot;,&quot;controls&quot;:true,&quot;stroke&quot;:{&quot;color&quot;:&quot;#b4b4b4&quot;,&quot;width&quot;:10},&quot;threshold&quot;:0.1,&quot;rotate&quot;:0,&quot;customCharacters&quot;:[]})" src="https://cdn.jsdelivr.net/npm/sakana-widget@2.3.0/lib/sakana.min.js"></script>
      <script>
      function log(msg) {
        console.log("[hexo-sakana] " + msg);
      }

      function initSakanaWidget(config) {
        if (
          !config.enable_mobile &&
          window.navigator.userAgent.match(
            /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i
          )
        ) {
          log(
            '检测为移动端，且配置中未开启在移动端启用组件，hexo-sakana 已禁用'
          );
          return;
        }
        for (character of config.customCharacters) {
          if (!["takina", "chisato"].includes(character.base)) {
            log(`无效基础角色 ${character.base}，取消注册`);
            continue;
          }
          if (character.name === "") {
            log("名称为空，取消注册");
            continue;
          }
          const originCharacter = SakanaWidget.getCharacter(character.base);
          originCharacter.initialState = {
            ...originCharacter.initialState,
            ...character,
          };
          originCharacter.image = !character.image ? originCharacter.image : character.image
          SakanaWidget.registerCharacter(character.name, originCharacter);
          log(`注册自定义角色：${character.name}`)
        }
        new SakanaWidget({
          character: config.character,
          size: config.size,
          autoFit: config.autoFit,
          controls: config.controls,
          stroke: config.stroke,
          threshold: config.threshold,
          rotate: config.rotate,
        }).mount("#sakana");
      }
  </script>
    <script type="text/javascript" charset="utf-8" src="/js/lazyload-plugin/lazyload.intersectionObserver.min.js"></script></body></html>